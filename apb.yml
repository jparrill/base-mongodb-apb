---
_params: &_params
  - name: MONGODB_VERSION
    default: 3.2
    title: Version of MongoDB image to be used (2.4, 2.6, 3.2 or latest).
    type: enum
    enum: ['2.4', '2.6', '3.2', 'latest']
    display_type: select

    # MongoDB Conf
  - name: MONGODB_USER
    default: 'username'
    type: string
    pattern: "^[a-zA-Z0-9_.-]*$"
    required: False
    title: Username for MongoDB user that will be used for accessing the database.
  - name: MONGODB_PASSWORD
    default: 'password'
    type: string
    pattern: "^[a-zA-Z0-9_.-]*$"
    display_type: password
    title: Password for the MongoDB connection user.
  - name: MONGODB_DATABASE
    default: sampledb
    type: string
    title: Name of the MongoDB database accessed.
  - name: MONGODB_ADMIN_PASSWORD
    default:
    type: string
    title: Password for the database admin user.

    ## Environment sizing
  - name: MONGODB_STORAGE_SIZE
    default: 1Gi
    type: string
    title: Volume space available for data, e.g. 512Mi, 2Gi.
  - name: MONGODB_MEMORY_LIMIT
    default: 512Mi
    type: string
    title: Maximum amount of memory the container can use.

version: 1.0
name: mongodb-apb
description: Deploy MongoDB app on your Openshift Project
bindable: False
async: optional
metadata:
  documentationUrl: https://access.redhat.com
  imageUrl: http://nightdeveloper.net/wp-content/uploads/2014/12/mongo_db.png
  displayName: MongoDB (APB)
  providerDisplayName: "Red Hat, Inc."
  longDescription: MongoDB is a document database with the scalability and flexibility that you want with the querying and indexing that you need. This APB will cover an standalone and HA deployment.
  serviceName: mongodb
plans:
  - name: ephemeral
    description: This default plan deploys mongodb-apb
    free: True
    metadata:
      displayName: Ephemeral
      longDescription: This plan will deploy a MongoDB standalone or HA instance/s using ephemeral storage
      cost: â‚¬0.00
    parameters: *_params
